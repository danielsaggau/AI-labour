******************************************************************** IPUMS Wage 2000******************************************************************** David Dorn, version September 22, 2007* This subfile creates hourly and weekly wages in 1999, expressed* in 1999 dollars.* This file should be run after the subfile that creates labor * supply weights.* The file can be called whenever the data in memory contains the* variables uhrswork, wkswork, classwkrd, incwage.********************************************************************* Wages (Code from David Autor with minor adjustments)********************************************************************** Flag earnings sample. All of the above except:** self-employed** those with missing hours** those with missing weeks** those with missing earnings last year** outlier wage observationsgen byte earnsamp=1replace earnsamp=0 if classwkrd>=10 & classwkrd<=14 replace earnsamp=0 if uhrswork==0replace earnsamp=0 if wkswork1==0replace earnsamp=0 if incwage==0tab earnsamp [aw=perwt]** generate earnings **** Impose JW topcode*** top and bottom code wagesreplace incwage=1.5*175000 if incwage>=175000scalar MAXWG=(1.5*175000/(35*50))scalar list MAXWGgen hrwage=incwag/(uhrswork*wkswork1)replace hrwage=MAXWG if hrwage>MAXWG & hrwage!=.replace hrwage=. if earnsamp==0sum hrwage [aw=perwt], detailscalar MINWG= r(p1)scalar list MINWGassert MINWG>0replace hrwage=MINWG if hrwage<MINWG & hrwage!=.gen wkwage=hrwage*uhrsworksum wkwage [aw=perwt], detailsum wkwage if uhrswork>=35 [aw=perwt], detail********************************************************************* Inflate to 2008** Table 2.5.4. Price Indexes for Personal Consumption Expenditures by Type of Expenditure * at BEA Table 1.1.4 http://www.bea.gov/national/nipaweb/TableView.asp?SelectedTable=4&ViewSeries=NO&Java=no&Request3Place=N&3Place=N&FromView=YES&Freq=Year&FirstYear=1963&LastYear=2008&3Place=N&Update=Update&JavaBox=no#Mid** The relevant values for the PCE are:* 1969: 22.616* 1979: 42.118* 1989: 68.994* 1999: 87.596* 2007: 105.502* 2008: 109.031********************************************************************gen real_hrwage=hrwage*(109.031/87.596) if hrwage!=.gen real_wkwage=wkwage*(109.031/87.596) if wkwage!=.********************************************************************* Compute log wages********************************************************************gen ln_hrwage=ln(real_hrwage) if hrwage!=.gen ln_wkwage=ln(real_wkwage) if wkwage!=.